!function(){"use strict";if(window.history){var a=function(a){a=a.toLowerCase();var b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},b=function(){var b={},c=a(navigator.userAgent);return c.browser&&(b[c.browser]=!0,b.version=c.version),b.chrome?b.webkit=!0:b.webkit&&(b.safari=!0),b},c=function(a){for(var b=c.options,d=b.parser[b.strictMode?"strict":"loose"].exec(a),e={},f=14;f--;)e[b.key[f]]=d[f]||"";return e[b.q.name]={},e[b.key[12]].replace(b.q.parser,function(a,c,d){c&&(e[b.q.name][c]=d)}),e};c.options={strictMode:!0,key:["href","protocol","host","userInfo","user","password","hostname","port","relative","pathname","directory","file","search","hash"],q:{name:"query",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var d,e=function(a){var b=c(a);return b.path=b.pathname+"?"+b.search,b},f=function(){try{return sessionStorage.setItem("test","test"),sessionStorage.removeItem("test"),!0}catch(a){return!1}},g=!1,h=!1,i=b();window.history.parseURL=e,window.history.config={hashChangeAlone:!0,storageKey:"min-history",basePath:"/",hid:!0},window.history.forceState=!("state"in window.history),window.history.forceState&&(window.history.state=null),i.safari&&location.relative!==window.history.config.basePath&&(g=!0);var j=function(a,b){var c=b.search+"&hid="+a;return b.pathname+"?"+c+(b.hash?"#"+b.hash:"")},k=function(a){a.search&&(a.search=a.search.replace(/&hid=([^&]+)/gi,function(b,c){return a.hid=c,""}),a.path=a.pathname+"?"+a.search,a.relative=a.path+(a.hash?"#"+a.hash:""))};if(window.history.pushState){var l=window.history.pushState,m=window.history.replaceState;window.history.pushState=function(a,b,c){return this.location=e(c),l.call(this,a,b,c)},window.history.replaceState=function(a,b,c){return this.location=e(c),m.call(this,a,b,c)}}else{window.history.emulated=!0,window.history.pushState=function(a,b,c){this.location=e(c),d=!0,this.state=this.store.push(a,b,c),window.location.hash=window.history.config.hid?"!"+j(this.state.id,this.location):"!"+this.location.relative},window.history.replaceState=function(a,b,c){this.location=e(c),d=!0,this.state=this.store.replace(a,b,c),window.location.hash=window.history.config.hid?"!"+j(this.state.id,this.location):"!"+this.location.relative};var n=window.history.go;window.history.go=function(a){var b=this.store.go(a);return b?(this.state=b,h=!0,void n.call(this,a)):null},window.history.back=function(){this.go(-1)},window.history.forward=function(){this.go(1)},!(window.history.sessionStorageSupported=f()),window.history.store={states:null,index:-1,init:function(){this.states=window.history.sessionStorageSupported?JSON.parse(sessionStorage.getItem(window.history.config.storageKey))||[]:[],Array.isArray(this.states)||(this.states=[])},push:function(a,b,c){var d={data:a,title:b,url:c,id:+new Date};return this.index++,this.index<this.states.length&&(this.states=this.states.slice(0,this.index)),this.states.push(d),d},replace:function(a,b,c){var d=this.states[this.index],e={data:a,title:b,url:c,id:d?d.id:+new Date};return this.states[this.index]=e},go:function(a){var b=this.index+a,c=this.states[b];return c?(this.index=b,c):null},find:function(a){for(var b,c=0,d=this.states.length;d>c&&(b=this.states[c]);++c)if(b.id==a)return b;return null},save:function(){window.history.sessionStorageSupported&&sessionStorage.setItem(window.history.config.storageKey,JSON.stringify(this.states))}}}var o=function(a){if(window.history.forceState&&(window.history.state=a.state),g)return g=!1,a.stopImmediatePropagation(),!1;var b=window.history.location,c=window.history.location=e(location.href);return d=!1,b&&b.path===c.path?b.hash!==c.hash&&window.history.config.hashChangeAlone?(a.stopImmediatePropagation(),!1):!0:(b&&b.hash!==c.hash&&(d=!0),!0)},p=function(a){var b=document.createEvent("CustomEvent");return b.initEvent("popstate",!0,!0),b.state=a||null,window.dispatchEvent(b)},q=function(a){if(d)return d=!1,a.stopImmediatePropagation(),!1;if(window.history.emulated){var b=null,c=window.history.location,f=window.history.location=e(location.hash.substring(2));if(!h&&window.history.config.hid&&(k(f),f.hid&&(b=window.history.store.find(f.hid)),window.history.state=b),!c||c.path!==f.path)return a.stopImmediatePropagation(),p(b),!1;c.hash===f.hash||window.history.config.hashChangeAlone||p(b)}return!0};window.history.init=function(a){if(a)for(var b in a)window.history.config[b]=a[b];window.history.location=e(location.href),window.addEventListener("hashchange",q),window.history.emulated?(window.history.store.init(),window.addEventListener("unload",function(){window.history.store.save()})):window.addEventListener("popstate",o)}}}();