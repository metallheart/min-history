!function(){"use strict";if(window.history){var a=function(a){a=a.toLowerCase();var b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},b=function(){var b={},c=a(navigator.userAgent);return c.browser&&(b[c.browser]=!0,b.version=c.version),b.chrome?b.webkit=!0:b.webkit&&(b.safari=!0),b},c=function(a){for(var b=c.options,d=b.parser[b.strictMode?"strict":"loose"].exec(a),e={},f=14;f--;)e[b.key[f]]=d[f]||"";return e[b.q.name]={},e[b.key[12]].replace(b.q.parser,function(a,c,d){c&&(e[b.q.name][c]=d)}),e};c.options={strictMode:!0,key:["href","protocol","host","userInfo","user","password","hostname","port","relative","pathname","directory","file","search","hash"],q:{name:"query",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var d,e=function(a){var b=c(a);return b.path=b.pathname+(b.search?"?":"")+b.search,b},f=function(){try{return sessionStorage.setItem("test","test"),sessionStorage.removeItem("test"),!0}catch(a){return!1}},g=function(){return"h"+(+new Date+Math.round(1e6*Math.random()))},h=!1,i=!1,j=b();window.history.parseURL=e,window.history.config={hashChangeAlone:!0,setStateEvent:!0,storageKey:"min-history",basePath:"/",hid:!0},window.history.forceState=!("state"in window.history),window.history.forceState&&(window.history.state=null),j.safari&&location.relative!==window.history.config.basePath&&(h=!0);var k=function(a,b){var c="?"+(b.search||"")+"&hid="+a;return(b.pathname||"/")+c+(b.hash?"#"+b.hash:"")},l=function(a){a.search&&(a.search=a.search.replace(/&hid=([^&]+)/gi,function(b,c){return a.hid=c,""}),a.path=a.pathname+(a.search?"?"+a.search:""),a.relative=a.path+(a.hash?"#"+a.hash:""),a.href=a.protocol+"://"+a.host+a.relative)},m=function(a){return window.history.config.basePath?(a.pathname=a.pathname.substring(window.history.config.basePath.length),a.path=a.pathname+(a.search?"?"+a.search:""),a.relative=a.path+(a.hash?"#"+a.hash:""),a.href=a.protocol+"://"+a.host+a.relative,a):a},n=function(a,b,c){var d=document.createEvent("Event");return d.initEvent(a,!0,!0),d.state=b||null,c&&(d.action=c),window.dispatchEvent(d)};window.history.store={states:null,index:-1,init:function(){(window.history.sessionStorageSupported=f())||console.warn("You are using custom history API and Session Storage is not supported. You'll loose history when leaving page."),this.states=window.history.sessionStorageSupported?JSON.parse(sessionStorage.getItem(window.history.config.storageKey))||[]:[],this.states.forEach||(this.states=[])},current:function(){return this.states[this.index]},push:function(a,b,c){var d={data:a,title:b,url:c};return window.history.config.hid&&(d.data=d.data||{},d.data.hid=g()),this.index++,this.index<this.states.length&&(this.states=this.states.slice(0,this.index)),this.states.push(d),d},replace:function(a,b,c){var d=this.states[this.index],e={data:a,title:b,url:c};return window.history.config.hid&&(e.data=e.data||{},e.data.hid=d&&d.data&&d.data.hid?d.data.hid:g()),this.states[this.index]=e},go:function(a){var b=this.index+a,c=this.states[b];return c?(this.index=b,c):null},find:function(a){for(var b,c=0,d=this.states.length;d>c&&(b=this.states[c]);++c)if(b.data&&b.data.hid==a)return b;return null},save:function(){window.history.sessionStorageSupported&&sessionStorage.setItem(window.history.config.storageKey,JSON.stringify(this.states))}};var o;if(window.history.pushState){var p=window.history.pushState,q=window.history.replaceState;o=function(a,b,c,d){var f=q;"push"==a&&(f=p),c&&(document.title=c),this.location=e(d),this.config.hid&&(b=this.store[a](b,c,this.location.relative).data),this.forceState&&(this.state=b||null);var g=f.call(this,b,c,window.history.config.basePath+this.location.relative);return this.config.setStateEvent&&n("setstate",this.state,a),g}}else{window.history.emulated=!0,o=function(a,b,c,f){c&&(document.title=c),this.location=e(f);var g=this.location.relative;this.config.hid?(this.state=b=this.store[a](b,c,g).data,g=k(b.hid,this.location)):this.state=b||null,this.config.setStateEvent&&n("setstate",this.state,a),d=!0,window.location.hash="!"+g};var r=window.history.go;window.history.go=function(a){if(this.config.hid){var b=this.store.go(a);if(!b)return null;this.state=b.data}else this.state=null;i=!0,r.call(this,a)},window.history.back=function(){this.go(-1)},window.history.forward=function(){this.go(1)}}window.history.pushState=function(a,b,c){return o.call(this,"push",a,b,c)},window.history.replaceState=function(a,b,c){return o.call(this,"replace",a,b,c)};var s=function(a){var b=a.state,c=window.history;if(c.forceState&&(c.state=b||null),h)return h=!1,a.stopImmediatePropagation(),!1;d=!1;var f,g=c.location,i=c.location=m(e(location.href));if(c.config.hid&&b&&b.hid&&(f=c.store.find(b.hid)),f){if(i.relative!==f.url)throw new Error("bad state from native popstate (url dont match) "+i.relative+" - "+f.url);f.title&&(document.title=f.title)}return g&&g.path===i.path?g.hash!==i.hash&&c.config.hashChangeAlone?(a.stopImmediatePropagation(),!1):!0:(g&&g.hash!==i.hash&&(d=!0),!0)},t=function(a){if(d)return d=!1,a.stopImmediatePropagation(),!1;if(window.history.emulated){var b,c=null,f=window.history.location,g=window.history.location=e(location.hash.substring(2));if(window.history.config.hid&&(l(g),i||(g.hid&&(b=window.history.store.find(g.hid)),b&&(c=b.data||null),window.history.state=c)),b&&b.title&&(document.title=b.title),!f||f.path!==g.path)return a.stopImmediatePropagation(),n("popstate",c),!1;f.hash===g.hash||window.history.config.hashChangeAlone||n("popstate",c)}return!0};window.history.init=function(a){for(var b in a)this.config[b]=a[b];window.addEventListener("hashchange",t),this.emulated?this.location=e(window.location.href):(window.addEventListener("popstate",s),this.location=m(e(window.location.href))),this.config.hid&&(this.store.init(),window.addEventListener("unload",function(){window.history.store.save()}))}}}();